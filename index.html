<!DOCTYPE html>

<html lang="en-US" prefix="og: http://opg.me/ns#">
  <head>
    <meta charset="UTF-8" />

    <meta name="title" property="og:title" content="Stagehand" />

    <meta
      name="description"
      property="og:description"
      content="Stagehand makes getting to production for frontend teams as painless as possible.  We are a drop in solution for automating review apps for your frontend application."
    />

    <meta name="type" property="og:type" content="website" />

    <meta
      name="url"
      property="og:url"
      content="https://stagehand-framework.github.io/"
    />

    <meta
      name="image"
      property="og:image"
      content="images/logos/stagehand_logo-full.png"
    />

    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="author" content="Cody Stair, Daniel Lew, Emil Reji" />

    <title>Stagehand</title>

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/icons/favicons/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/icons/favicons/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/icons/favicons/favicon-16x16.png"
    />
    <link rel="manifest" href="/images/icons/favicons/site.webmanifest" />
    <link
      rel="mask-icon"
      href="/images/icons/favicons/safari-pinned-tab.svg"
      color="#5bbad5"
    />
    <link rel="shortcut icon" href="/images/icons/favicons/favicon.ico" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta
      name="msapplication-config"
      content="/images/icons/favicons/browserconfig.xml"
    />
    <meta name="theme-color" content="#ffffff" />

    <!-- <style>reset</style> -->

    <link rel="stylesheet" href="stylesheets/reset.css" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/gruvbox-dark.min.css"
      charset="utf-8"
    />

    <!-- <style></style> -->

    <link rel="stylesheet" href="stylesheets/main.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"
    ></script>

    <!-- slick carousel style -->

    <link rel="stylesheet" type="text/css" href="slick/slick.css" />
    <link rel="stylesheet" type="text/css" href="slick/slick-theme.css" />

    <!-- <script></script> -->

    <script src="javascripts/application.js"></script>

    <style></style>
  </head>

  <body>
    <div class="logo-links">
      <p id="river-logo">MENU</p>

      <a href="https://github.com/stagehand-framework" target="_blank">
        <img
          src="images/logos/river_github-black.png"
          alt="github logo"
          id="github-logo"
        />
      </a>
    </div>
    <a id="toTop-link" href="#" target="_blank">
      <img
        src="images/logos/back-to-top.png"
        alt="Back to top"
        id="toTop-logo"
      />
    </a>
    <nav id="site-navigation">
      <ul>
        <li>
          <a href="#home" id="home-link">HOME</a>
        </li>

        <li>
          <a href="#case-study" id="case-study-link">CASE STUDY</a>

          <nav id="case-study-mobile">
            <ul></ul>
          </nav>
        </li>

        <li>
          <a href="#our-team" id="our-team-link">OUR TEAM</a>
        </li>
      </ul>
    </nav>

    <header id="home">
      <h1>
        <img src="images/logos/stagehand_logo-full.png" alt="Stagehand logo" />
        <p>Automated review apps for modern frontend applications</p>
      </h1>
    </header>

    <section class="integration">
      <div class="box">
        <img
          id="banner-deploy"
          src="images/diagrams/High-level-SH.png"
          alt="A simplified diagram of Stagehand's infrastructure"
        />
      </div>

      <article class="box">
        <div class="text-box">
          <h1>
            Stagehand allows you to deploy and manage your review apps on your
            own infrastructure.
          </h1>
        </div>
      </article>
    </section>

    <section class="integration">
      <article class="box">
        <div class="text-box">
          <h1>
            Stagehand automates review apps for you. All you needs is a GitHub
            and AWS account.
          </h1>
        </div>
      </article>

      <div class="box">
        <img
          id="banner-deploy"
          src="images/diagrams/GH-AWS-logo.png"
          alt="Stagehand's logo"
        />
      </div>
    </section>

    <main>
      <section id="case-study">
        <h1>Case Study</h1>

        <div id="side-nav">
          <img
            src="images/logos/stagehand_logo-full.png"
            alt="Stagehand logo"
          />
        </div>

        <nav>
          <ul></ul>
        </nav>

        <h2 id="what-is-river">1. What is Stagehand?</h2>

        <p>
          Stagehand is a drop-in solution that provides review apps for modern
          frontend applications. We are a framework that automatically manages
          review apps for your application’s GitHub repository on your own cloud
          infrastructure. We use AWS, GitHub Actions, and some Stagehand
          client-side code to set-up, deploy, manage, and teardown review apps
          for your frontend application.
        </p>

        <p>
          All you have to do is install the Stagehand CLI via our NPM package
          and run our init command from your local repo. We will handle the
          rest. Then you will have review apps automatically deployed for you to
          view and share whenever you open a pull request on your GitHub
          repository.
        </p>

        <p>
          In this case study, we describe what review apps are as well as their
          value for modern frontend applications. We then look over existing
          solutions for review apps and where Stagehand fits into the mix. Then
          we will look at how we built Stagehand as well as challenges we faced
          along the way. Finally, we will go over some future work we would like
          to develop.
        </p>

        <h2 id="what-are-review-apps">2. What are review apps?</h2>

        <p>
          Stagehand automates the deployment and management of review apps for
          modern frontend applications. To understand why we built Stagehand, we
          need to understand what review apps are. In this section we will dive
          into review apps and the value they bring to frontend developers as
          well as what we mean when we say that Stagehand is for “modern
          frontend applications”.
        </p>

        <h3>2.1. Staging Environments</h3>

        <p>
          To see where review apps fit into the overall continuous development
          of a production application, let’s consider the various environments
          involved in that application.
        </p>

        <img
          src="images/diagrams/environments.png"
          alt="environments diagram"
        />

        <p>
          Whenever code changes in a production application, such as with adding
          a new feature, it starts in a development environment. This
          environment involves a developer coding up the new feature and testing
          it on their local machine.
        </p>

        <p>
          Once the new feature code is finished and tested locally, it typically
          moves on to a dedicated testing environment. This environment is
          optimized for whatever aspects of the application are being tested
          (specific units, end-to-end functionality, etc.).
        </p>

        <p>
          Prior to deploying live, the new feature code is moved to a staging
          environment. This environment is supposed to match the production
          environment as closely as possibly for any final checks. Finally, the
          new code moves to the production environment to go live.
        </p>

        <p>
          Review apps generally fall under the same category as staging
          environments, though their usefulness may expand beyond that. So it
          will be useful to look at staging environments in more detail.
        </p>

        <p>What are staging environments? Here is a good definition:</p>

        <blockquote>
          “A staging environment (sometimes called a pre-production environment)
          is the environment where your code is ‘staged’ prior to being run in
          front of users so you can ensure it works as designed.” [<a
            href="#footnote-12"
            >12</a
          >]
        </blockquote>

        <p>
          A staging environment can be used for quality assurance teams,
          automated end-to-end testing, and for product managers and/or other
          stakeholders to be able to validate that new features and
          functionality work as intended.
        </p>

        <p>
          Consider this scenario where you are a developer of a frontend
          application:
        </p>

        <img
          src="images/diagrams/scenario_1.png"
          alt="single developer w/ staging environment"
        />

        <p>
          The product manager wants a responsive navigation bar added to the
          application and you are assigned this task. After coding up and
          testing your new navigation bar feature, you deploy your changes to a
          staging environment.
        </p>

        <p>
          In this staging environment, the product manager and other
          stakeholders can view your changes in a production-like environment.
          They can play around with the new functionality, making sure it is
          what they want and that everything works properly. Then, once your new
          feature is approved, it can be moved into production to be released.
        </p>

        <p>
          But what if you are part of a development team that is assigned a wide
          variety of features. Now you, Alice, and Bob are all working on
          different parts of the frontend application at the same time. You are
          working on the navigation bar feature, Alice is working on the footer,
          and Bob is working on the page content:
        </p>

        <img
          src="images/diagrams/scenario_2.png"
          alt="multiple developers w/ shared staging environment"
        />

        <p>
          All of these features will have to be deployed to a shared staging
          environment. There the new features can each be verified by the
          product manager and other stakeholders before being approved to go
          into production.
        </p>

        <p>
          But because this environment is shared, maybe you and Alice have to
          wait until Bob is done using it before you can deploy and share your
          new features. Furthermore, you or Alice may have to clean up the
          staging environment if Bob made changes to it. And if your code now
          conflicts with Bob’s, you may have to resolve these conflicts.
        </p>

        <p>
          This type of bottleneck in the development cycle is one of many
          scenarios where having review apps can be incredibly helpful.
        </p>

        <h3>2.2. What Are Review Apps?</h3>

        <p>
          Review apps are ephemeral, fully-functional versions of a production
          application that can be easily deployed and shared with others. Let’s
          take this definition apart a piece at a time:
        </p>

        <ul>
          <li>
            Ephemeral - Review apps are temporary environments that can be built
            and torn down at any time without affecting the production
            application.
          </li>

          <li>
            Fully-Functional - Review apps have end-to-end production-like
            functionality. They are temporary versions of the main application.
          </li>

          <li>
            Easily-Deployed - Review apps can be instantly built and deployed
            whenever there is a change in an application’s code, like when a new
            feature is added.
          </li>

          <li>
            Self-Contained - Review apps exist in isolation from the main
            production application. This allows developers to try out new
            features and functionality in a deployed production-like environment
            without touching the production code.
          </li>
        </ul>

        <p>
          Consider the value of review apps for the development team scenario
          from above:
        </p>

        <img
          src="images/diagrams/scenario_3.png"
          alt="multiple developers w/ review apps"
        />

        <p>
          Your team has introduced a review app solution like Stagehand to the
          mix. With review apps, each developer on your team now has their own
          isolated environment where you can easily deploy and share your new
          features. You and your team no longer have to fight over a shared
          staging environment just to be able to quickly deploy and share your
          new features with others.
        </p>

        <p>
          Each review app can be accessed via a unique shareable URL. You can
          share this with your product manager and even non-technical
          stakeholders, getting more feedback more quickly while you are
          developing your new feature.
        </p>

        <p>
          Review apps also enable greater collaboration within your development
          team itself. As you, Alice, and Bob are coding up your new features,
          you can quickly deploy them with review apps and share them with each
          other. So you do not have to pull down each other’s code and get it
          running locally to collaborate.
        </p>

        <p>
          Review apps make checking out your work in a production-like
          environment as you are developing as simple as possible. But what do
          they look like in action from a developer’s point of view?
        </p>

        <p>
          Here on the GitHub repository for your team’s application, you have
          opened a pull request for your new navigation bar feature. The product
          manager will have to see the change and give approval before your code
          can move on to production.
        </p>

        <img
          src="images/diagrams/wireframe_1.png"
          alt="github pull request with one review app"
        />

        <p>
          As soon as the pull request is opened, a review app is automatically
          built and deployed for you. A unique URL for this particular review
          app is automatically posted as well. You share this review app with
          your product manager. She wants you to move the navigation bar icon to
          the other side of the page.
        </p>

        <img
          src="images/diagrams/wireframe_2.png"
          alt="github pull request with two review app"
        />

        <p>
          After making the change and making a new commit to the open pull
          request, a whole new review app is built and deployed. This new review
          app exists at the same time as the previous review app. You can even
          open each one via their URLs simultaneously and compare them
          side-by-side.
        </p>

        <p>
          You share the link for the new review app with your product manager.
          She is now satisfied with the changes. You are clear to promote your
          new navigation bar feature to production. When this pull request is
          closed, all review apps associated with it will be automatically
          disposed of which will free up any unnecessary cloud resources.
        </p>

        <h3>2.3. Frontend Review Apps</h3>

        <h4>2.3.1. Why Frontend Review Apps?</h4>

        <h4>2.3.2. Frontend Applicaton Architecture</h4>

        <div class="sequence">
          <div class="img-wrapper">
            <img
              src="images/diagrams/fullstack-1.png"
              alt="fullstack diagram flow 1"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/fullstack-2.png"
              alt="fullstack diagram flow 2"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/fullstack-3.png"
              alt="fullstack diagram flow 3"
            />
          </div>
        </div>

        <div class="sequence">
          <div class="img-wrapper">
            <img src="images/diagrams/ssg-1.png" alt="ssg flow 1" />
          </div>
          <div class="img-wrapper">
            <img src="images/diagrams/ssg-2.png" alt="ssg flow 2" />
          </div>
          <div class="img-wrapper">
            <img src="images/diagrams/ssg-3.png" alt="ssg flow 3" />
          </div>
          <div class="img-wrapper">
            <img src="images/diagrams/ssg-4.png" alt="ssg flow 4" />
          </div>
        </div>

        <div class="sequence">
          <div class="img-wrapper">
            <img src="images/diagrams/jamstack-1.png" alt="jamstack flow 1" />
          </div>
          <div class="img-wrapper">
            <img src="images/diagrams/jamstack-2.png" alt="jamstack flow 2" />
          </div>
          <div class="img-wrapper">
            <img src="images/diagrams/jamstack-3.png" alt="jamstack flow 3" />
          </div>
          <div class="img-wrapper">
            <img src="images/diagrams/jamstack-4.png" alt="jamstack flow 4" />
          </div>
          <div class="img-wrapper">
            <img src="images/diagrams/jamstack-5.png" alt="jamstack flow 5" />
          </div>
        </div>

        <h3>4.1) AWS</h3>

        <div class="img-wrapper">
          <img src="images/diagrams/daigram.png" alt="Random diagram" />
        </div>

        <p>T</p>

        <div class="img-wrapper">
          <img src="images/diagrams/daigram.png" alt="Random diagram" />
        </div>

        <p>
          ...sends back a response with a new webpage with the client’s new
          post. This is as expected, but what happens when a second client makes
          a post?
        </p>

        <div class="img-wrapper">
          <img src="images/diagrams/daigram.png" alt="Random diagram" />
        </div>

        <p>H</p>

        <h3>4.2) Github Actions</h3>
        <div class="sequence">
          <div class="img-wrapper">
            <img
              src="images/diagrams/GitHub-Actions-flow-1.png"
              alt="GitHub Actions flow 1"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/GitHub-Actions-flow-2.png"
              alt="GitHub Actions flow 2"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/GitHub-Actions-flow-3.png"
              alt="GitHub Actions flow 3"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/GitHub-Actions-flow-4.png"
              alt="GitHub Actions flow 4"
            />
          </div>
        </div>
        <p>H</p>
        <h3>4.3) Client Side Code</h3>

        <div class="img-wrapper">
          <img src="images/diagrams/daigram.png" alt="Random diagram" />
        </div>

        <p>H</p>

        <h2 id="existing-solutions">5) Existing solutions</h2>

        <p>
          In the previous section, we described how a real-time service such as
          River fits in with an existing application. At this point, before
          going into how we actually built River, we want to say a word about
          some of the existing solutions. Once an application developer has
          decided that a separate real-time service would work well for the
          needs of his application, he has quite a few options.
        </p>

        <h3>4.4) CLI</h3>

        <div class="img-wrapper">
          <img src="images/diagrams/daigram.png" alt="Random diagram" />
        </div>

        <p>H</p>

        <h2 id="existing-solutions">5) Challenges</h2>

        <p>I</p>

        <h3>5.1) Relative Paths</h3>

        <p>Broadly[<a href="#footnote-16">16</a>],</p>

        <div class="img-wrapper">
          <img src="images/diagrams/daigram.png" alt="Random diagram" />
        </div>

        <h3>5.2) Github Action Optimizations</h3>

        <p>Broadly[<a href="#footnote-17">17</a>],</p>

        <p>L</p>

        <div class="img-wrapper">
          <img src="images/diagrams/daigram.png" alt="Random diagram" />
        </div>

        <h2 id="future work">6) Future Work</h2>

        <p>W</p>

        <div class="img-wrapper">
          <img src="images/diagrams/daigram.png" alt="Random diagram" />
        </div>

        <blockquote>Quote. [<a href="#footnote-26">26</a>]</blockquote>

        <div class="img-wrapper">
          <figure>
            <img
              src="images/diagrams/diagram.png"
              alt="Image with footnote caption"
            />
            <figcaption>
              Diagram from: AWS in Action [<a href="#footnote-27">27</a>]
            </figcaption>
          </figure>
        </div>

        <p>
          <code>ulimits</code> were increased to the following:
          <code class="nohighlight">
            <pre>
          "ulimits": [ 
            {
              "name": "nofile",
              "softLimit": 50000,
              "hardLimit": 65536
            } 
          ]</pre
            >
          </code>
        </p>
        <p>Once this was updated, the test ran without any errors.</p>

        <section id="footnotes">
          <h2 id="references">7) References</h2>

          <ol>
            <li id="footnote-1">
              <a
                href="https://pragprog.com/titles/sbsockets/real-time-phoenix/"
                target="_blank"
                >https://pragprog.com/titles/sbsockets/real-time-phoenix/</a
              >
            </li>
            <li id="footnote-2">
              <a
                href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events"
                target="_blank"
                >MDN on SSE</a
              >. The limit per browser is set to 6 open connections. This is not
              an issue when using SSE with HTTP/2, since HTTP/2 allows
              multiplexing, see
              <a
                href="https://www.infoq.com/articles/websocket-and-http2-coexist/"
                target="_blank"
                >https://www.infoq.com/articles/websocket-and-http2-coexist/</a
              >
            </li>
          </ol>

          Icons made by
          <a
            href="https://www.flaticon.com/authors/freepik"
            title="Freepik"
            target="_blank"
            >Freepik</a
          >
          from
          <a href="https://www.flaticon.com/" title="Flaticon" target="_blank">
            www.flaticon.com</a
          >.
        </section>
      </section>
    </main>

    <section id="our-team">
      <h1>Our Team</h1>

      <p>
        We are looking for opportunities. If you liked what you saw and want to
        talk more, please reach out!
      </p>

      <ul>
        <li class="individual">
          <img src="images/avatars/cody_profile_pic.png" alt="Cody Stair" />

          <h3>Cody Stair</h3>

          <p>Knoxville, TN</p>

          <ul class="social-icons">
            <li>
              <a href="mailto:ccstair27@gmail.com" target="">
                <img src="images/icons/email_icon.png" alt="email" />
              </a>
            </li>

            <li>
              <a href="https://codystair.github.io/" target="_blank">
                <img src="images/icons/website_icon.png" alt="website" />
              </a>
            </li>

            <li>
              <a
                href="https://www.linkedin.com/in/cody-stair-8075b2192/"
                target="_blank"
              >
                <img src="images/icons/linked_in_icon.png" alt="linkedin" />
              </a>
            </li>
          </ul>
        </li>

        <li class="individual">
          <h3>Daniel Lew</h3>

          <p>Toronto, Canada</p>

          <ul class="social-icons">
            <li>
              <a href="mailto:markhyams@gmail.com" target="">
                <img src="images/icons/email_icon.png" alt="email" />
              </a>
            </li>

            <li>
              <a href="https://markhyams.com" target="_blank">
                <img src="images/icons/website_icon.png" alt="website" />
              </a>
            </li>

            <li>
              <a href="https://www.linkedin.com/in/mark-hyams/" target="_blank">
                <img src="images/icons/linked_in_icon.png" alt="linkedin" />
              </a>
            </li>
          </ul>
        </li>

        <li class="individual">
          <img
            src="images/avatars/emil_profile_pic_12_20_20.jpg"
            alt="Emil Reji"
          />

          <h3>Emil Reji</h3>

          <p>New York City, NY</p>

          <ul class="social-icons">
            <li>
              <a href="mailto:emil315.reji@gmail.com" target="">
                <img src="images/icons/email_icon.png" alt="email" />
              </a>
            </li>

            <li>
              <a href="https://emilreji.github.io/" target="_blank">
                <img src="images/icons/website_icon.png" alt="website" />
              </a>
            </li>

            <li>
              <a
                href="https://www.linkedin.com/in/emil-reji-88b548144/"
                target="_blank"
              >
                <img src="images/icons/linked_in_icon.png" alt="linkedin" />
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </section>
    <script type="text/javascript" src="slick/slick.min.js"></script>
  </body>
</html>
