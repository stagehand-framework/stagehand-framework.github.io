<!DOCTYPE html>

<html lang="en-US" prefix="og: http://opg.me/ns#">
  <head>
    <meta charset="UTF-8" />

    <meta name="title" property="og:title" content="Stagehand" />

    <meta
      name="description"
      property="og:description"
      content="Stagehand makes getting to production for frontend teams as painless as possible.  We are a drop in solution for automating review apps for your frontend application."
    />

    <meta name="type" property="og:type" content="website" />

    <meta
      name="url"
      property="og:url"
      content="https://stagehand-framework.github.io/"
    />

    <meta
      name="image"
      property="og:image"
      content="images/logos/stagehand_logo-full.png"
    />

    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="author" content="Cody Stair, Daniel Lew, Emil Reji" />

    <title>Stagehand</title>

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/icons/favicons/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/icons/favicons/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/icons/favicons/favicon-16x16.png"
    />
    <link rel="manifest" href="/images/icons/favicons/site.webmanifest" />
    <link
      rel="mask-icon"
      href="/images/icons/favicons/safari-pinned-tab.svg"
      color="#5bbad5"
    />
    <link rel="shortcut icon" href="/images/icons/favicons/favicon.ico" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta
      name="msapplication-config"
      content="/images/icons/favicons/browserconfig.xml"
    />
    <meta name="theme-color" content="#ffffff" />

    <!-- <style>reset</style> -->

    <link rel="stylesheet" href="stylesheets/reset.css" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/gruvbox-dark.min.css"
      charset="utf-8"
    />

    <!-- <style></style> -->

    <link rel="stylesheet" href="stylesheets/main.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"
    ></script>

    <!-- slick carousel style -->

    <link rel="stylesheet" type="text/css" href="slick/slick.css" />
    <link rel="stylesheet" type="text/css" href="slick/slick-theme.css" />

    <!-- <script></script> -->

    <script src="javascripts/application.js"></script>

    <style></style>
  </head>

  <body>
    <div class="logo-links">
      <p id="river-logo">MENU</p>

      <a href="https://github.com/stagehand-framework" target="_blank">
        <img
          src="images/logos/river_github-black.png"
          alt="github logo"
          id="github-logo"
        />
      </a>
    </div>
    <a id="toTop-link" href="#" target="_blank">
      <img
        src="images/logos/back-to-top.png"
        alt="Back to top"
        id="toTop-logo"
      />
    </a>
    <nav id="site-navigation">
      <ul>
        <li>
          <a href="#home" id="home-link">HOME</a>
        </li>

        <li>
          <a href="#case-study" id="case-study-link">CASE STUDY</a>

          <nav id="case-study-mobile">
            <ul></ul>
          </nav>
        </li>

        <li>
          <a href="#our-team" id="our-team-link">OUR TEAM</a>
        </li>
      </ul>
    </nav>

    <header id="home">
      <h1>
        <img src="images/logos/stagehand_logo-full.png" alt="Stagehand logo" />
        <p>Automated review apps for modern frontend applications</p>
      </h1>
    </header>

    <section class="integration">
      <div class="box">
        <img
          id="banner-deploy"
          src="images/diagrams/High-level-SH.png"
          alt="A simplified diagram of Stagehand's infrastructure"
        />
      </div>

      <article class="box">
        <div class="text-box">
          <h1>
            Stagehand allows you to deploy and manage your review apps on your
            own infrastructure.
          </h1>
        </div>
      </article>
    </section>

    <section class="integration">
      <article class="box">
        <div class="text-box">
          <h1>
            Stagehand automates review apps for you. All you needs is a GitHub
            and AWS account.
          </h1>
        </div>
      </article>

      <div class="box">
        <img
          id="banner-deploy"
          src="images/diagrams/GH-AWS-logo.png"
          alt="Stagehand's logo"
        />
      </div>
    </section>

    <main>
      <section id="case-study">
        <h1>Case Study</h1>

        <div id="side-nav">
          <img
            src="images/logos/stagehand_logo-full.png"
            alt="Stagehand logo"
          />
        </div>

        <nav>
          <ul></ul>
        </nav>

        <h2 id="what-is-river">1. What is Stagehand?</h2>

        <p>
          Stagehand is a drop-in solution that provides review apps for modern
          frontend applications. We are a framework that automatically manages
          review apps for your application’s GitHub repository on your own cloud
          infrastructure. We use AWS, GitHub Actions, and some Stagehand
          client-side code to set-up, deploy, manage, and teardown review apps
          for your frontend application.
        </p>

        <p>
          All you have to do is install the Stagehand CLI via our NPM package
          and run our init command from your local repo. We will handle the
          rest. Then you will have review apps automatically deployed for you to
          view and share whenever you open a pull request on your GitHub
          repository.
        </p>

        <p>
          In this case study, we describe what review apps are as well as their
          value for modern frontend applications. We then look over existing
          solutions for review apps and where Stagehand fits into the mix. Then
          we will look at how we built Stagehand as well as challenges we faced
          along the way. Finally, we will go over some future work we would like
          to develop.
        </p>

        <h2 id="what-are-review-apps">2. What are review apps?</h2>

        <p>
          Stagehand automates the deployment and management of review apps for
          modern frontend applications. To understand why we built Stagehand, we
          need to understand what review apps are. In this section we will dive
          into review apps and the value they bring to frontend developers as
          well as what we mean when we say that Stagehand is for “modern
          frontend applications”.
        </p>

        <h3>2.1. Staging Environments</h3>

        <p>
          To see where review apps fit into the overall continuous development
          of a production application, let’s consider the various environments
          involved in that application.
        </p>

        <div class="img-wrapper">
          <img
            src="images/diagrams/environments.png"
            alt="environments diagram"
          />
        </div>

        <p>
          Whenever code changes in a production application, such as with adding
          a new feature, it starts in a development environment. This
          environment involves a developer coding up the new feature and testing
          it on their local machine.
        </p>

        <p>
          Once the new feature code is finished and tested locally, it typically
          moves on to a dedicated testing environment. This environment is
          optimized for whatever aspects of the application are being tested
          (specific units, end-to-end functionality, etc.).
        </p>

        <p>
          Prior to deploying live, the new feature code is moved to a staging
          environment. This environment is supposed to match the production
          environment as closely as possibly for any final checks. Finally, the
          new code moves to the production environment to go live.
        </p>

        <p>
          Review apps generally fall under the same category as staging
          environments, though their usefulness may expand beyond that. So it
          will be useful to look at staging environments in more detail.
        </p>

        <p>What are staging environments? Here is a good definition:</p>

        <blockquote>
          “A staging environment (sometimes called a pre-production environment)
          is the environment where your code is ‘staged’ prior to being run in
          front of users so you can ensure it works as designed.” [<a
            href="#footnote-12"
            >12</a
          >]
        </blockquote>

        <p>
          A staging environment can be used for quality assurance teams,
          automated end-to-end testing, and for product managers and/or other
          stakeholders to be able to validate that new features and
          functionality work as intended.
        </p>

        <p>
          Consider this scenario where you are a developer of a frontend
          application:
        </p>

        <div class="img-wrapper">
          <img
            src="images/diagrams/scenario_1.png"
            alt="single developer w/ staging environment"
          />
        </div>

        <p>
          The product manager wants a responsive navigation bar added to the
          application and you are assigned this task. After coding up and
          testing your new navigation bar feature, you deploy your changes to a
          staging environment.
        </p>

        <p>
          In this staging environment, the product manager and other
          stakeholders can view your changes in a production-like environment.
          They can play around with the new functionality, making sure it is
          what they want and that everything works properly. Then, once your new
          feature is approved, it can be moved into production to be released.
        </p>

        <p>
          But what if you are part of a development team that is assigned a wide
          variety of features. Now you, Alice, and Bob are all working on
          different parts of the frontend application at the same time. You are
          working on the navigation bar feature, Alice is working on the footer,
          and Bob is working on the page content:
        </p>

        <div class="img-wrapper">
          <img
            src="images/diagrams/scenario_2.png"
            alt="multiple developers w/ shared staging environment"
          />
        </div>

        <p>
          All of these features will have to be deployed to a shared staging
          environment. There the new features can each be verified by the
          product manager and other stakeholders before being approved to go
          into production.
        </p>

        <p>
          But because this environment is shared, maybe you and Alice have to
          wait until Bob is done using it before you can deploy and share your
          new features. Furthermore, you or Alice may have to clean up the
          staging environment if Bob made changes to it. And if your code now
          conflicts with Bob’s, you may have to resolve these conflicts.
        </p>

        <p>
          This type of bottleneck in the development cycle is one of many
          scenarios where having review apps can be incredibly helpful.
        </p>

        <h3>2.2. What Are Review Apps?</h3>

        <p>
          Review apps are ephemeral, fully-functional versions of a production
          application that can be easily deployed and shared with others. Let’s
          take this definition apart a piece at a time:
        </p>

        <ul>
          <li>
            Ephemeral - Review apps are temporary environments that can be built
            and torn down at any time without affecting the production
            application.
          </li>

          <li>
            Fully-Functional - Review apps have end-to-end production-like
            functionality. They are temporary versions of the main application.
          </li>

          <li>
            Easily-Deployed - Review apps can be instantly built and deployed
            whenever there is a change in an application’s code, like when a new
            feature is added.
          </li>

          <li>
            Self-Contained - Review apps exist in isolation from the main
            production application. This allows developers to try out new
            features and functionality in a deployed production-like environment
            without touching the production code.
          </li>
        </ul>

        <p>
          Consider the value of review apps for the development team scenario
          from above:
        </p>

        <div class="img-wrapper">
          <img
            src="images/diagrams/scenario_3.png"
            alt="multiple developers w/ review apps"
          />
        </div>

        <p>
          Your team has introduced a review app solution like Stagehand to the
          mix. With review apps, each developer on your team now has their own
          isolated environment where you can easily deploy and share your new
          features. You and your team no longer have to fight over a shared
          staging environment just to be able to quickly deploy and share your
          new features with others.
        </p>

        <p>
          Each review app can be accessed via a unique shareable URL. You can
          share this with your product manager and even non-technical
          stakeholders, getting more feedback more quickly while you are
          developing your new feature.
        </p>

        <p>
          Review apps also enable greater collaboration within your development
          team itself. As you, Alice, and Bob are coding up your new features,
          you can quickly deploy them with review apps and share them with each
          other. So you do not have to pull down each other’s code and get it
          running locally to collaborate.
        </p>

        <p>
          Review apps make checking out your work in a production-like
          environment as you are developing as simple as possible. But what do
          they look like in action from a developer’s point of view?
        </p>

        <p>
          Here on the GitHub repository for your team’s application, you have
          opened a pull request for your new navigation bar feature. The product
          manager will have to see the change and give approval before your code
          can move on to production.
        </p>

        <div class="img-wrapper">
          <img
            src="images/diagrams/wireframe_1.png"
            alt="github pull request with one review app"
          />
        </div>

        <p>
          As soon as the pull request is opened, a review app is automatically
          built and deployed for you. A unique URL for this particular review
          app is automatically posted as well. You share this review app with
          your product manager. She wants you to move the navigation bar icon to
          the other side of the page.
        </p>

        <div class="img-wrapper">
          <img
            src="images/diagrams/wireframe_2.png"
            alt="github pull request with two review app"
          />
        </div>

        <p>
          After making the change and making a new commit to the open pull
          request, a whole new review app is built and deployed. This new review
          app exists at the same time as the previous review app. You can even
          open each one via their URLs simultaneously and compare them
          side-by-side.
        </p>

        <p>
          You share the link for the new review app with your product manager.
          She is now satisfied with the changes. You are clear to promote your
          new navigation bar feature to production. When this pull request is
          closed, all review apps associated with it will be automatically
          disposed of which will free up any unnecessary cloud resources.
        </p>

        <h3>2.3. Frontend Review Apps</h3>

        <h4>2.3.1. Why Frontend Review Apps?</h4>

        <h4>2.3.2. Frontend Applicaton Architecture</h4>

        <div class="sequence">
          <div class="img-wrapper">
            <img
              src="images/diagrams/fullstack-1.png"
              alt="fullstack diagram flow 1"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/fullstack-2.png"
              alt="fullstack diagram flow 2"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/fullstack-3.png"
              alt="fullstack diagram flow 3"
            />
          </div>
        </div>

        <div class="sequence">
          <div class="img-wrapper">
            <img src="images/diagrams/ssg-1.png" alt="ssg flow 1" />
          </div>
          <div class="img-wrapper">
            <img src="images/diagrams/ssg-2.png" alt="ssg flow 2" />
          </div>
          <div class="img-wrapper">
            <img src="images/diagrams/ssg-3.png" alt="ssg flow 3" />
          </div>
          <div class="img-wrapper">
            <img src="images/diagrams/ssg-4.png" alt="ssg flow 4" />
          </div>
        </div>

        <div class="sequence">
          <div class="img-wrapper">
            <img src="images/diagrams/jamstack-1.png" alt="jamstack flow 1" />
          </div>
          <div class="img-wrapper">
            <img src="images/diagrams/jamstack-2.png" alt="jamstack flow 2" />
          </div>
          <div class="img-wrapper">
            <img src="images/diagrams/jamstack-3.png" alt="jamstack flow 3" />
          </div>
          <div class="img-wrapper">
            <img src="images/diagrams/jamstack-4.png" alt="jamstack flow 4" />
          </div>
          <div class="img-wrapper">
            <img src="images/diagrams/jamstack-5.png" alt="jamstack flow 5" />
          </div>
        </div>

        <h2>4. Stagehand</h2>

        <div class="img-wrapper">
          <img src="images/diagrams/final-architecture.png" alt="Stagehand final architecture" />
        </div>

        <p>
          Stagehand is divided into 3 components, AWS Infrastructure, GitHub Actions, and Client-side code.
        </p>

        <h3>4.1. AWS</h3>

        <div class="img-wrapper">
          <img src="images/diagrams/aws-final.png" alt="Final aws architecture" />
        </div>

        <p>
          There are two flows through our AWS infrastructure. The first is when review apps are being created or torn down, the second is when requests to view the review apps are made.
        </p>

        <h4>4.1.1. S3 Bucket</h4>

        <p>
          The S3 Bucket is our storage solution, it is a database for files. This is where each of our review apps for a particular Stagehand application are stored in its entirety. The review apps need a way to be deciphered from one another.
        </p>

        <div class="img-wrapper">
          <img src="images/diagrams/aws-s3-basepath.png" alt="Branch/Commit identifier" />
        </div>

        <p>
          To handle this we group review apps by the branch name in which the feature is being worked on and a hash of the commit. This approach helps us in two ways. The first is that the branch gives context as to what feature is being developed and it allows us to group review apps logically by feature being worked on. The commit hash identifier will then ensure that each review app has a unique namespace within the s3 bucket.
        </p>

        <h4>4.1.2. CloudFront</h4>

        <div class="img-wrapper">
          <img src="images/diagrams/aws-cloudfront.png" alt="Aws cloudfront flow" />
        </div>

        <p>
          We use CloudFront as our CDN and hosting solution. All incoming HTTPS requests for review apps first go through CloudFront and then CloudFront retrieves the correct asset from the S3 Bucket and returns it to the user. The bonus of using CloudFront is that it handles securing requests with TLS and provides us with an out of the box domain to use. There’s no need to configure a DNS, get an SSL certificate, or link CloudFront to an existing domain.
        </p>

        <h4>4.1.3. IAM</h4>

        <div class="img-wrapper">
          <img src="images/diagrams/aws-iam.png" alt="Aws iam flow" />
        </div>
        
        <p>
          The last AWS infrastructure piece is Identity and Access Management (IAM). This enables us to tightly secure the access to CloudFront and S3. It also ensures that the AWS credentials that we use to spin up the infrastructure can’t access any other AWS resources on the account of where this infrastructure is located. The developer who initialized Stagehand to the repository now doesn’t have to worry about what individuals who have access to the repository, whether malicious or not, may do.
        </p>

        <h4>4.1.4. CloudFormation</h4>
        
        <div class="img-wrapper">
          <img src="images/diagrams/aws-cloudformation.png" alt="Aws cloudformation flow" />
        </div>

        <p>
          To deploy our AWS infrastructure we used CloudFormation. It allows us to use a template with listed resources, configuration, and outputs and it’ll spin up all the infrastructure we need. We didn’t need to customize each AWS stack to each Stagehand App so a template was a perfect approach. This also allows us to use the outputs that this CloudFormation Stack creation gives us and then automate setting up the users GitHub account with the proper configuration. Another bonus of having all of our resources grouped together is not only the ease in spinning it up, but also in tearing it down.
        </p>

        <h3>4.2. Github Actions</h3>

        <h4>4.2.1. Why Does Github Actions Exist?</h4>

        <p>
          To understand what GitHub Actions is and why it exists, we’ll go over a very common scenario for a GitHub user:
          You want to build your Gatsby (a framework for building frontend apps) application every time a commit to your codebase is made. To make this happen what would you need to do? 
        </p>
        <div class="sequence">
          <div class="img-wrapper">
            <img
              src="images/diagrams/gh-gatsby-fail-1.png"
              alt="Gatsby fail 1"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/gh-gatsby-fail-2.png"
              alt="Gatsby fail 2"
            />
          </div>
        </div>
        <p>
          The repository itself can’t run code, we need some place for the Gatsby build to be executed.
        </p>

        <div class="img-wrapper">
          <img
            src="images/diagrams/gh-buildserver.png"
            alt="Gatsby build server"
          />
        </div>

        <p>
          We can solve this by having a server somewhere, which will receive a notification from GitHub letting us know when to start the build process. Then we’d pull down the code from the repository onto the server and then run the build command. GitHub noticed that this was an incredibly common flow of events its users would want to execute, running code in the context of their repository. GitHub wanted to devise a way for you to run code directly within your repository, eliminating the need to spin up or configure your own server. This inspired the creation of GitHub Actions.
        </p>

        <div class="img-wrapper">
          <img
            src="images/diagrams/gh-buildrepo.png"
            alt="Gatsby GitHub Actions build"
          />
        </div>

        <p>
          There is now a way to run code within the context of your repository. GitHub provides each repository with a server that it can use the run code on in response to GitHub events.
        </p>
        <p>
          If you recall, the events we’re concerned about (pull requests, commits) are repository level events. GitHub Actions is perfect for our use case because we can leverage the server GitHub provides us to build our review apps.
        </p>

        <h4>4.2.2. Using GitHub Actions</h4>

        <p>
          The only piece of information that needs to be provided to GitHub so that it knows when and how to run the code is a Workflow file. These Workflow files will live in your GitHub repository under a special folder <code>.github</code> to alert GitHub to check for the workflow files. We provide all the workflow files that a user of Stagehand needs during setup.
        </p>

        <div class="sequence">
          <div class="img-wrapper">
            <img
              src="images/diagrams/GitHub-Actions-flow-1.png"
              alt="GitHub Actions flow 1"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/GitHub-Actions-flow-2.png"
              alt="GitHub Actions flow 2"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/GitHub-Actions-flow-3.png"
              alt="GitHub Actions flow 3"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/GitHub-Actions-flow-4.png"
              alt="GitHub Actions flow 4"
            />
          </div>
        </div>
        <p>The above is the flow of a GitHub Action, it is separated into four steps. If we were to map each of these steps to a Stagehand's Create Review App workflow it would look like this:</p>
        <ol>
          <li>
            A pull request is created in your repository, creating a pull request event
          </li>
          <li>
            GitHub will see that the Create workflow file inside your repository is listening for this event to occur, triggering the workflow to begin
          </li>
          <li>
            GitHub will read the workflow file and provision a server for you set up with the appropriate environment credentials
          </li>
          <li>
            GitHub server will execute the contents of the Create workflow. This will build the review app, copy the build to S3, and publish a comment containing the URL of the review app
          </li>
        </ol>

        <p>
          We also provide one more workfile that will be triggered when a pull request is closed or merged. This will tear down any review apps associated with that branch, and invalidate CloudFront’s cache so the review apps will no longer be accessible.
        </p>

        <h3>4.3. Client Side Code</h3>

        <div class="img-wrapper">
          <img src="images/diagrams/client-overview.png" alt="Client overview" />
        </div>

        <p>
          There are three fundamental pieces to our client side code. The customizable dashboard, the iframe to serve the review app content, and the service worker to handle routing. All this code lives in an HTML file and two JavaScript files that we provide to every review app.
        </p>

        <h3>4.3.1. Dashboard and Iframe</h3>

        <div class="img-wrapper">
          <img src="images/diagrams/client-dashboard.png" alt="Client dashboard" />
        </div>

        <p>
          The HTML file provides the scaffolding of a dashboard. The Stagehand dashboard visually sits on top of the review app to give extra context to the viewer of the review app and reminding them that they’re looking at a review app, not production. While the information that our dashboard gives at the moment is a banner, this setup allows the user of Stagehand to easily build out a custom dashboard to do and say whatever they want. This could be as simple as building out dashboard content, host it elsewhere and link to it in your provided Stagehand HTML file. Alternatively, it can be built directly within the provided HTML/JavaScript files.
        </p>

        <div class="img-wrapper">
          <img src="images/diagrams/client-iframe.png" alt="Client iframe" />
        </div>

        <p>
          We use an iframe to get this dashboard overlay effect.
        </p>
        <blockquote>
          “The iframe represents a nested browsing context, embedding another HTML page into the current one.” [<a
            href="#footnote-12"
            >FIX LATER</a
          >]
        </blockquote>
        <p>
          It is basically a webpage within another webpage, created with just a simple HTML tag. It can be styled so that it looks as though it’s the main window, which is how we achieve this. Another feature of an iframe is that if the main window is the same origin (ie <code>https://1245.cloudfront.net</code>) as the iframe, then the main window can access certain properties of the iframe like its content and location.
        </p>

        <h3>4.3.2. Service Workers and Routing</h3>

        <p>
          Those familiar with Service Workers may notice that we’re using them in an unorthodox way. More often than not they’re used for Progressive Web Apps (*link to PWA explanation*) and take advantage of many browser APIs like the built in Cache and Database options. All this information about Service Workers is not important to understand how we’re using them, so we’re going to talk about them only in the context that they’re being used.
        </p>

        <div class="img-wrapper">
          <img src="images/diagrams/client-serviceworker.png" alt="Client service worker" />
        </div>
        <p>
          A Service Worker is a browser feature, it is not infrastructure, it is code that is run inside a browser process. Once it is registered to a domain (ie 1245.cloudfront.net) it intercepts all requests going in and out of that domain. We can both alter the request and response in the cycle. In our case we’re going to intercept HTTP requests.
        </p>
        <p>
          The important takeaways for how we’re using them is to know that they are an in-browser proxy, and they are able to send and receive messages to the domain they are registered to.
        </p>

        <h3>4.3.3. Viewing the Review App</h3>

        <div class="img-wrapper">
          <img src="images/diagrams/client-createapp.png" alt="Client build app flow" />
        </div>

        <p>
          Before we begin walking through the client request cycle, we need to revisit the GitHub Server. Now that we have client files in the mix, we need to add both the review app build and the Stagehand client files to the S3 Bucket. This means that each review app will have its own version of the Stagehand Client files. These client files are very small and have no outside dependencies.
        </p>

        <p>
          Once our app is built and all of the appropriate review app files are in the s3 bucket we can view the review app.
        </p>

        <div class="sequence">
          <div class="img-wrapper">
            <img
              src="images/diagrams/client-flow-1.png"
              alt="Client flow 1"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/client-flow-2.png"
              alt="Client flow 2"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/client-flow-3.png"
              alt="Client flow 3"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/client-flow-4.png"
              alt="Client flow 4"
            />
          </div>
        </div>

        <ol>
          <li>
            Client fetches the Stagehand HTML file provided to each review app
          </li>
          <li>
            Client renders both the dashboard and the iframe that will later house the review app
          </li>
          <li>
            Stagehand JavaScript and Service Worker files are requested.
          </li>
          <li>
            Service Worker begins installation
          </li>
        </ol>

        <p>
          It's possible that the service worker may need extra time to register. A simple refresh will do the trick. The service worker only needs to install once per each Stagehand application, not once per review app.
        </p>

        <div class="sequence">
          <div class="img-wrapper">
            <img
              src="images/diagrams/client-flow-5.png"
              alt="Client flow 5"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/client-flow-6.png"
              alt="Client flow 6"
            />
          </div>
          <div class="img-wrapper">
            <img
              src="images/diagrams/client-flow-7.png"
              alt="Client flow 7"
            />
          </div>
        </div>

        <ol start="5">
          <li>
            All HTTP requests will be intercepted by the service worker
          </li>
          <li>
            Service worker will fix the requested path and forward the request to CloudFront
          </li>
          <li>
            Service worker will forward the response to the iframe, populating it with the assets it needs
          </li>
        </ol>

        <h2 id="existing-solutions">5) Existing solutions</h2>

        <p>
          In the previous section, we described how a real-time service such as
          River fits in with an existing application. At this point, before
          going into how we actually built River, we want to say a word about
          some of the existing solutions. Once an application developer has
          decided that a separate real-time service would work well for the
          needs of his application, he has quite a few options.
        </p>

        <h3>4.4) CLI</h3>

        <div class="img-wrapper">
          <img src="images/diagrams/daigram.png" alt="Random diagram" />
        </div>

        <p>H</p>

        <h2 id="existing-solutions">5) Challenges</h2>

        <p>I</p>

        <h3>5.1) Relative Paths</h3>

        <p>Broadly[<a href="#footnote-16">16</a>],</p>

        <div class="img-wrapper">
          <img src="images/diagrams/daigram.png" alt="Random diagram" />
        </div>

        <h3>5.2) Github Action Optimizations</h3>

        <p>Broadly[<a href="#footnote-17">17</a>],</p>

        <p>L</p>

        <div class="img-wrapper">
          <img src="images/diagrams/daigram.png" alt="Random diagram" />
        </div>

        <h2 id="future work">6) Future Work</h2>

        <p>W</p>

        <div class="img-wrapper">
          <img src="images/diagrams/daigram.png" alt="Random diagram" />
        </div>

        <blockquote>Quote. [<a href="#footnote-26">26</a>]</blockquote>

        <div class="img-wrapper">
          <figure>
            <img
              src="images/diagrams/diagram.png"
              alt="Image with footnote caption"
            />
            <figcaption>
              Diagram from: AWS in Action [<a href="#footnote-27">27</a>]
            </figcaption>
          </figure>
        </div>

        <p>
          <code>ulimits</code> were increased to the following:
          <code class="nohighlight">
            <pre>
          "ulimits": [ 
            {
              "name": "nofile",
              "softLimit": 50000,
              "hardLimit": 65536
            } 
          ]</pre
            >
          </code>
        </p>
        <p>Once this was updated, the test ran without any errors.</p>

        <section id="footnotes">
          <h2 id="references">7) References</h2>

          <ol>
            <li id="footnote-1">
              <a
                href="https://pragprog.com/titles/sbsockets/real-time-phoenix/"
                target="_blank"
                >https://pragprog.com/titles/sbsockets/real-time-phoenix/</a
              >
            </li>
            <li id="footnote-2">
              <a
                href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events"
                target="_blank"
                >MDN on SSE</a
              >. The limit per browser is set to 6 open connections. This is not
              an issue when using SSE with HTTP/2, since HTTP/2 allows
              multiplexing, see
              <a
                href="https://www.infoq.com/articles/websocket-and-http2-coexist/"
                target="_blank"
                >https://www.infoq.com/articles/websocket-and-http2-coexist/</a
              >
            </li>
          </ol>

          Icons made by
          <a
            href="https://www.flaticon.com/authors/freepik"
            title="Freepik"
            target="_blank"
            >Freepik</a
          >
          from
          <a href="https://www.flaticon.com/" title="Flaticon" target="_blank">
            www.flaticon.com</a
          >.
        </section>
      </section>
    </main>

    <section id="our-team">
      <h1>Our Team</h1>

      <p>
        We are looking for opportunities. If you liked what you saw and want to
        talk more, please reach out!
      </p>

      <ul>
        <li class="individual">
          <img src="images/avatars/cody_profile_pic.png" alt="Cody Stair" />

          <h3>Cody Stair</h3>

          <p>Knoxville, TN</p>

          <ul class="social-icons">
            <li>
              <a href="mailto:ccstair27@gmail.com" target="">
                <img src="images/icons/email_icon.png" alt="email" />
              </a>
            </li>

            <li>
              <a href="https://codystair.github.io/" target="_blank">
                <img src="images/icons/website_icon.png" alt="website" />
              </a>
            </li>

            <li>
              <a
                href="https://www.linkedin.com/in/cody-stair-8075b2192/"
                target="_blank"
              >
                <img src="images/icons/linked_in_icon.png" alt="linkedin" />
              </a>
            </li>
          </ul>
        </li>

        <li class="individual">
          <h3>Daniel Lew</h3>

          <p>Toronto, Canada</p>

          <ul class="social-icons">
            <li>
              <a href="mailto:markhyams@gmail.com" target="">
                <img src="images/icons/email_icon.png" alt="email" />
              </a>
            </li>

            <li>
              <a href="https://markhyams.com" target="_blank">
                <img src="images/icons/website_icon.png" alt="website" />
              </a>
            </li>

            <li>
              <a href="https://www.linkedin.com/in/mark-hyams/" target="_blank">
                <img src="images/icons/linked_in_icon.png" alt="linkedin" />
              </a>
            </li>
          </ul>
        </li>

        <li class="individual">
          <img
            src="images/avatars/emil_profile_pic_12_20_20.jpg"
            alt="Emil Reji"
          />

          <h3>Emil Reji</h3>

          <p>New York City, NY</p>

          <ul class="social-icons">
            <li>
              <a href="mailto:emil315.reji@gmail.com" target="">
                <img src="images/icons/email_icon.png" alt="email" />
              </a>
            </li>

            <li>
              <a href="https://emilreji.github.io/" target="_blank">
                <img src="images/icons/website_icon.png" alt="website" />
              </a>
            </li>

            <li>
              <a
                href="https://www.linkedin.com/in/emil-reji-88b548144/"
                target="_blank"
              >
                <img src="images/icons/linked_in_icon.png" alt="linkedin" />
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </section>
    <script type="text/javascript" src="slick/slick.min.js"></script>
  </body>
</html>
